{% extends "base.html" %}
{% load static %}

{% block title %}Travel Your Way | Aorbo Treks{% endblock %}

{% block content %}
<section class="py-5">
  <div class="container">
    <a href="{% url 'home' %}" class="btn btn-link mt-4 mb-3">
      &larr; Back to Home
    </a>

    <h2 class="mb-2">
      Travel Your Way â€“
      <span class="text-warning">
        {{ selected_tag|title }}
      </span>
    </h2>

    <p class="text-muted mb-4">
      Showing treks and trips that match your travel style.
    </p>

    <div class="row g-4">
      {% for trek in treks %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <div class="card h-100 border-0 shadow-sm rounded-4">
            <div class="ratio ratio-4x3">
              <img
                src="{% static trek.image %}"
                alt="{{ trek.name }}"
                class="card-img-top object-fit-cover rounded-top-4"
              >
            </div>
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mb-1">{{ trek.name }}</h5>
              <p class="text-muted mb-2">ğŸ“ {{ trek.state }}</p>

              {% if trek.duration_days %}
                <p class="small mb-1">â± {{ trek.duration_days }}</p>
              {% endif %}

              {% if trek.operating_days %}
                <p class="small mb-2">ğŸ“… {{ trek.operating_days }}</p>
              {% endif %}

              <p class="fw-semibold mb-3">
                â‚¹{{ trek.price_start }} <span class="text-muted small">onwards</span>
              </p>

              <div class="mt-auto">
                <a href="{% url 'card_trek_detail' trek.id %}"
                   class="btn btn-warning w-100 fw-semibold">
                  View Details
                </a>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <div class="col-12">
          <p class="text-center text-muted">
            No treks found for this travel style yet.
            <a href="{% url 'home' %}">Go back and try another.</a>
          </p>
        </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}
